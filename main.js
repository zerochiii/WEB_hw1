let updateIntervalId; // å„²å­˜ setInterval çš„ ID

document.addEventListener("DOMContentLoaded", function () {
    const messages = [
        "ä¼ºæœå™¨çš„å–µèƒ½é‡ä¸è¶³ï¼Œæ­£åœ¨å……é›»ï¼ ğŸ”‹ğŸ±",
        "è²“å’ªèªªä»Šå¤©ä¸ä¸Šç­ï¼Œè«‹ç¨å¾Œå†è©¦ï¼ ğŸ˜¼ğŸš§",
        "Oopsï¼å°è²“ç©å¾—å¤ªç˜‹ï¼ŒæŠŠç¶²é å¼„å£äº†ï¼ ğŸ¤¦â€â™‚ï¸ğŸ¾",
        "æˆ‘å€‘çš„è²“é–‹ç™¼è€…æ­£åœ¨ä¿®å¾©å•é¡Œï¼Œè«‹è€å¿ƒç­‰å€™ï¼ ğŸ’»ğŸ¾",
        "å–µï¼ä½ çš„è«‹æ±‚è¢«è²“è²“å·å·è—èµ·ä¾†äº†ï¼ ğŸ±ğŸ",
        "é€™ä¸æ˜¯ä½ çš„å•é¡Œï¼Œæ˜¯è²“å’ªçš„ï¼ ğŸˆğŸ’¥",
        "å˜¿ï¼Œæˆ‘å€‘çš„è²“ç®¡å®¶æ­£åœ¨æ•´ç†ç·šè·¯ï¼Œé¦¬ä¸Šå›ä¾†ï¼ ğŸ› ï¸ğŸˆ",
        "å–µå—šï¼å°è²“ä¸å°å¿ƒæŠŠä¼ºæœå™¨è¸¢å€’äº†ï¼Œæ­£åœ¨åŠªåŠ›æ‰¶æ­£å–”ï¼ ğŸ¾ğŸ’»ğŸ˜¿",
        "ç³Ÿç³•ï¼å°è²“è·³ä¸Šéµç›¤ï¼Œçµæœç¶²ç«™ç•¶æ©Ÿäº†â€¦â€¦æˆ‘å€‘æ­£åœ¨ä¿®å¾©ï¼ ğŸ±âŒ¨ï¸ğŸš¨",
        "å–µï½å°è²“å¤ªå¥½å¥‡ï¼Œå’¬äº†ä¸€å£ç¶²ç·šï¼Œç¾åœ¨å·¥ç¨‹å¸«æ­£åœ¨æ¥å›å»ï¼ ğŸˆâ€â¬›ğŸ”ŒğŸ”§",
        "å–µçš„ï¼ä¼ºæœå™¨è®Šæˆè²“æŠ“æ¿äº†ï¼Œåˆ¥æ“”å¿ƒï¼Œæˆ‘å€‘æ­£åœ¨ä¿®å¾©ä¸­ï¼ ğŸ¾ğŸ–¥ï¸ğŸ’¥",
        "å–”ä¸ï¼å°è²“é‘½é€²æ©Ÿæˆ¿ï¼ŒæŠŠé›»æºç·šç•¶ç©å…·â€¦â€¦æˆ‘å€‘é¦¬ä¸Šè®“ç¶²ç«™æ¢å¾©ï¼ ğŸˆâš¡ğŸ”‹",
        "ä¸ï¼Œæ˜¯å°è²“è¶´åœ¨ä¼ºæœå™¨ä¸Šç¡è‘—äº†â€¦â€¦è¼•è¼•ç­‰ä¸€ä¸‹å–”ï¼ ğŸ’¤ğŸ¾ğŸ’»",
        "å–µå–µï¼å…¶å¯¦æ˜¯å°è²“å·å·é—œäº†é–‹é—œï¼Œå·²æ´¾å·¥ç¨‹å¸«å“„å›ä¾†ï¼ ğŸ˜¼ğŸ”˜ğŸ”„",
        "æŠ±æ­‰ï¼Œå°è²“è¸©åˆ°äº†ã€æš«åœã€æŒ‰éˆ•ï¼Œæˆ‘å€‘é¦¬ä¸Šæ¢å¾©é‹è¡Œï¼ ğŸ¾â¸ï¸ğŸ”„",
        "å–µï½ç¶²ç«™è¢«å°è²“å¼èµ°äº†ï¼Œæ­£åœ¨è¿½å›ä¾†çš„è·¯ä¸Šï¼ ğŸƒğŸ±ğŸ’¨",
        "å–µå—šï¼ŒåŸä¾†æ˜¯å°è²“è¦ºå¾—é€™å€‹éŒ¯èª¤é é¢å¾ˆå¯æ„›ï¼Œæ‰€ä»¥æ±ºå®šå¤šåœç•™ä¸€æœƒå…’ï½ğŸ¥¹ğŸˆğŸ¨",
        "å“‡å—šï½ç¶²é è¢«è²“çˆªåˆªé™¤äº†ï¼Œæˆ‘å€‘æ­£åœ¨å¾©åŸï¼ ğŸ¾âŒ",
        "å•Šï¼æ­¤ç¶²é ç›®å‰è¢«è²“ä¸»å­ä½”é ˜ï¼Œè«‹ç¨å¾Œå†è©¦ï¼ ğŸ°ğŸˆ",
        "å°è²“èººåœ¨ä¼ºæœå™¨ä¸Šå–æš–ï¼Œç¶²ç«™æš«æ™‚å†¬çœ ä¸­â€¦â€¦â„ï¸ğŸ±ğŸ”¥",
        "å–µå–µå–µï½è²“å’ªé–‹äº†é£›èˆªæ¨¡å¼ï¼Œæˆ‘å€‘æ­£åœ¨é™è½å›åœ°çƒï¼ğŸ›¬ğŸˆğŸ“¡",
        "è²“å’ªä¸Šç­ç¬¬ä¸€å¤©å°±æ‰“ç¿»äº†è³‡æ–™åº«ï¼Œæ­£åœ¨ä¸€é ä¸€é æ’¿å›ä¾†ä¸­ï½ğŸ“šğŸ˜¿",
        "å°è²“æ­£åœ¨ç”¨ç¶²é ç•¶æŠ“æŠ“æ¨‚æ¿ï¼Œæˆ‘å€‘æ­£è«‹å®ƒæ”¾ä¸‹çˆªå­ï¼ğŸ¾ğŸ–¥ï¸",
        "ä¼ºæœå™¨é€²å…¥è²“å’ªå†¥æƒ³æ¨¡å¼ä¸­â€¦â€¦è«‹è¼•è²ç­‰å€™ï½ğŸ§˜ğŸˆâ€â¬›ğŸŒ™",
        "é–‹ç™¼è²“èµ°ç¥å»è¿½é›·å°„ç­†äº†ï¼Œç¨ç­‰ä¸€ä¸‹ç‰ å›ä¾†ä¿®ç¶²é ï¼ğŸ”¦ğŸ±ğŸ’¨",
        "å–µçš„ï¼Œè²“å’ªå·å·æ›´æ”¹äº†åŸå§‹ç¢¼â€¦â€¦æˆ‘å€‘æ­£åœ¨è§£ç¢¼ï¼ğŸ’»ğŸ¾ğŸ”",
        "å°è²“ä»¥ç‚ºæŒ‰ä¸‹çš„æ˜¯é›¶é£Ÿæ©Ÿï¼Œçµæœæ˜¯é‡å•Ÿéµâ€¦â€¦ğŸ—ğŸ”ğŸˆ",
        "é–‹ç™¼è²“å‰›ç¡é†’ï¼Œé‚„åœ¨ä¼¸æ‡¶è…°ï½è«‹çµ¦ç‰ ä¸€é»æ™‚é–“å›ç¥ï¼ğŸ›ŒğŸ±â˜•",
        "å–µï½å°è²“æŠŠ CSS æ²æˆæ¯›çƒå¸¶èµ°äº†ï¼Œæ¨£å¼æ­£åœ¨å°‹å›ä¸­ï¼ğŸ¨ğŸ¾ğŸ§¶",
        "æŠ±æ­‰ï¼Œå°è²“ä»Šå¤©é–‹äº†éš±èº«æ¨¡å¼ï¼Œæˆ‘å€‘æ‰¾ä¸åˆ°ç‰ ï¼ğŸ”ğŸˆâ€â¬›ğŸ«¥",
        "ç¶²ç«™ç›®å‰é€²å…¥è²“å’ªåˆç¡æ™‚æ®µï¼Œè«‹ç¨å¾Œå›ä¾†ï½ğŸ˜´ğŸ¾ğŸ•",
        "è²“å’ªæ‰“äº†å€‹å™´åšï¼Œæ•´å€‹å¾Œç«¯æ–·ç·šäº†â€¦â€¦æ­£åœ¨æ¢å¾©ï¼ğŸ˜¹ğŸŒğŸ’¨",
        "å–µæ˜Ÿäººæ­£åœ¨é‡æ–°æ’åˆ— HTMLï¼Œè«‹å®¹ç‰ å¤šæƒ³å¹¾ç§’é˜ï¼ğŸ§ ğŸ±ğŸ“„",
        "å°è²“èª¤ä»¥ç‚ºé€™æ˜¯è²“ç ‚å€ï¼ŒåŸ‹äº†ç¶²ç«™æª”æ¡ˆâ€¦â€¦æ­£åœ¨æŒ–å‡ºä¾†ï¼â›ï¸ğŸˆğŸª¦",
        "ç³»çµ±æ­£åœ¨ç­‰å¾…è²“ä¸»å­ç°½æ ¸â€¦â€¦ç‰ é‚„åœ¨ç£¨çˆªå­ä¸­ ğŸ“ğŸ¾ğŸ˜¼",
        "ä¸å¥½æ„æ€ï¼Œè²“å’ªåœ¨å’Œæ»‘é¼ åµæ¶ï¼Œç¶²é å¡åœ¨ä¸­é–“äº†ï¼ğŸ–±ï¸ğŸ±ğŸ’¢",
        "é€™ä¸æ˜¯ä½ çš„å•é¡Œï¼Œæ˜¯æˆ‘å€‘çš„è²“åœ˜éšŠé›†é«”æ‰“çŒç¡ï¼ğŸ’¤ğŸ˜¹ğŸ’»",
        "å–µå—šï¼é é¢è¿·è·¯äº†ï¼Œå°è²“æ­£åœ¨èç·šç´¢æ‰¾è·¯å›å®¶ï½ğŸ”ğŸ¾ğŸ—ºï¸",
        "ç¶²ç«™æš«åœï¼Œæ˜¯å› ç‚ºå°è²“åœ¨è·³éµç›¤èˆè¹ˆç§€ï½âŒ¨ï¸ğŸˆğŸ¶"
    ];

    function updateMessage() {
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        const messageElement = document.getElementById("error-message");
        if (messageElement) {
            messageElement.innerText = randomMessage;
        }
    }

    updateMessage();
    updateIntervalId = setInterval(updateMessage, 5000);
});

document.addEventListener("DOMContentLoaded", function () {
    document.querySelector(".retry-button").addEventListener("click", function (event) {
        event.preventDefault();

        clearInterval(updateIntervalId); // åœæ­¢è¨Šæ¯è¼ªæ’­

        const errorMessages = document.querySelectorAll("#error-message");
        errorMessages.forEach(msg => msg.remove());

        document.body.innerHTML = '';
        document.body.style.backgroundColor = '#343541';

        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'sleeping.css'; // è«‹ç¢ºä¿é€™å€‹ CSS å­˜åœ¨
        document.head.appendChild(link);

        const container = document.createElement('div');
        container.className = 'container';
        container.innerHTML = `
                    <div class="shadow"></div>
                    <div class="cat">
                        <div class="ear"></div>
                        <div class="eye"></div>
                        <div class="mouth"></div>
                        <div class="nose"></div>
                        <div class="tail"></div>
                        <div class="body"></div>
                        <div class="bubble"></div>
                    </div>
                    <p class="wake-up-message"><strong>è«‹å«é†’æ²‰ç¡çš„å–µå¸«å‚…ï¼è®“ç‰ èµ·ä¾†ä¿®ç†èª¿çš®çš„å°è²“ï¼</strong></p>
                    <button class="count-button">å«é†’ç‰ </button>
                `;
        document.body.appendChild(container);

        let clickCount = 0;
        document.querySelector(".cat").addEventListener("click", function () {
            clickCount++;
            if (clickCount >= 15) {
                document.querySelector(".wake-up-message").innerHTML = "<strong>å–µå¸«å‚…è¦é†’æ‹‰ï¼</strong>";
                document.querySelector(".cat").classList.add("awake");
                /*document.querySelector(".count-button").remove();*/
                setTimeout(() => {
                    window.location.href = 'https://catgpt.wvd.io/';
                }, 1500);
            }
        });
    });
});
